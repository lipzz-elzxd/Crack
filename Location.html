<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pelacak Lokasi</title>
<style>
body {
  margin: 0;
  background: black;
  color: white;
  font-family: Arial, sans-serif;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100vh;
}
.container {
  text-align: center;
  padding: 20px;
  border-radius: 12px;
  background: rgba(255,255,255,0.05);
}
h1 { margin-bottom: 20px; }
button {
  margin-top: 12px;
  padding: 10px 30px;
  border-radius: 10px;
  border: none;
  background: white;
  color: black;
  font-weight: bold;
  cursor: pointer;
}
#status {
  margin-top: 15px;
  opacity: 0.8;
}
</style>
</head>
<body>

<div class="container">
  <h1>Pelacak Lokasi</h1>
  <button onclick="saveLocation()">Simpan Lokasi Sekarang</button>
  <div id="status">Klik tombol untuk menyimpan lokasi.</div>
</div>

<script>
const formURL = "https://docs.google.com/forms/d/e/1FAIpQLScJJ-PAqYmeOnS6qKdgL1gTGMyX_FjrMLLg93Pv4QDbw1N-Cg/formResponse";

// Entry ID sesuai Form kamu
const entryLatitude = "entry.138340134";
const entryLongitude = "entry.1616098311";
const entryUserAgent = "entry.1257224602";

function saveLocation() {
  const status = document.getElementById("status");
  if (!navigator.geolocation) {
    status.innerText = "Browser kamu tidak mendukung Geolocation.";
    return;
  }

  status.innerText = "Mengambil lokasiâ€¦";

  navigator.geolocation.getCurrentPosition(
    pos => {
      const lat = pos.coords.latitude;
      const lon = pos.coords.longitude;
      const ua = navigator.userAgent;

      const data = new URLSearchParams();
      data.append(entryLatitude, lat);
      data.append(entryLongitude, lon);
      data.append(entryUserAgent, ua);

      fetch(formURL, {
        method: "POST",
        mode: "no-cors",
        body: data
      });

      status.innerText = "Lokasi berhasil dikirim!";
    },
    err => {
      console.error(err);
      status.innerText = "Gagal mengambil lokasi.";
    }
  );
}
</script>

</body>
</html>
